System.register("chunks:///_virtual/Amphibian.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyBullet.ts"],(function(t){var i,e,o,l,s,h,n,r,m,a,d,u,p,f,g,R,c,v,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,n=t.Prefab,r=t.SpriteFrame,m=t.Collider2D,a=t.Contact2DType,d=t.randomRangeInt,u=t.Vec2,p=t.UITransform,f=t.instantiate,g=t.Vec3,R=t.Sprite,c=t.color,v=t.Component},function(t){C=t.EnemyBullet}],execute:function(){var y,B,X,Y,L,b,G,S,W;s._RF.push({},"8407dfmZFBNp4RWH8yPV9hi","Amphibian",void 0);var z=h.ccclass,F=h.property;t("Amphibian",(y=z("Amphibian"),B=F({type:n}),X=F({type:r}),Y=F({type:r}),y((G=i((b=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return i=t.call.apply(t,[this].concat(s))||this,o(i,"bullet",G,l(i)),o(i,"right",S,l(i)),o(i,"left",W,l(i)),i.realGround=void 0,i.realRoof=void 0,i.realLeftWall=void 0,i.realRightWall=void 0,i.limitRightY1=0,i.limitRightY2=0,i.limitGroundX1=0,i.limitGroundX2=0,i.limitRoofX1=0,i.limitRoofX2=0,i.limitLeftY1=0,i.limitLeftY2=0,i.tempGround=void 0,i.tempRoof=void 0,i.tempLeftWall=void 0,i.tempRightWall=void 0,i.life=void 0,i.moveTimer=void 0,i.moveCooldown=void 0,i.hitTimer=void 0,i.moveRight=void 0,i.haveShoot=void 0,i.loading=void 0,i.poolBullet=[],i.listActiveBullet=[],i}e(i,t);var s=i.prototype;return s.start=function(){this.node.getComponent(m).on(a.BEGIN_CONTACT,this.onCollide,this),this.life=8,this.moveTimer=0,this.moveCooldown=0,this.hitTimer=.1,this.realGround=-210,this.realRoof=200,this.realLeftWall=-625,this.realRightWall=625,this.moveRight=d(0,2)%2==0,this.haveShoot=!1,this.loading=!0},s.onCollide=function(t,i,e){if(0==i.tag){var o=i.node.position.x,l=i.node.position.y,s=i.node.name,h=t.node.position.y,n=t.node.position.x,r=o-this.getSizeFromCollider2D(i).x/2-this.getSizeFromCollider2D(t).x/2,m=o+this.getSizeFromCollider2D(i).x/2+this.getSizeFromCollider2D(t).x/2,a=l-this.getSizeFromCollider2D(i).y/2-this.getSizeFromCollider2D(t).y/2,d=l+this.getSizeFromCollider2D(i).y/2+this.getSizeFromCollider2D(t).y/2;this.moveRight=!this.moveRight,"Wall"==s.substring(0,s.indexOf(" "))?n<=r+this.getSizeFromCollider2D(t).x/2&&h>=a&&h<=d?this.updateBoundaries("RightWall",r,m,a,d,o,l):n>=m-this.getSizeFromCollider2D(t).x/2&&h>=a&&h<=d?this.updateBoundaries("LeftWall",r,m,a,d,o,l):(h>=d-this.getSizeFromCollider2D(t).y/2&&n>=r&&n<=m||h<=a+this.getSizeFromCollider2D(t).y/2&&n>=r&&n<=m)&&this.updateBoundaries("Ground",r,m,a,d,o,l):"Platform"==s.substring(0,s.indexOf(" "))?h>=d-this.getSizeFromCollider2D(t).y/2-2.5&&n>=r&&n<=m?this.updateBoundaries("Ground",r,m,a,d,o,l):h<=a+this.getSizeFromCollider2D(t).y/2+2.5&&n>=r&&n<=m?this.updateBoundaries("Roof",r,m,a,d,o,l):n<=r+this.getSizeFromCollider2D(t).x/2+2.5&&h>=a&&h<=d?this.updateBoundaries("RightWall",r,m,a,d,o,l):n>=m-this.getSizeFromCollider2D(t).x/2-2.5&&h>=a&&h<=d&&this.updateBoundaries("LeftWall",r,m,a,d,o,l):"Roof"==s.substring(0,s.indexOf(" "))&&(h<=a+this.getSizeFromCollider2D(t).y/2+2.5&&n>=r&&n<=m?this.updateBoundaries("Roof",r,m,a,d,o,l):h>=d-this.getSizeFromCollider2D(t).y/2-2.5&&n>=r&&n<=m?this.updateBoundaries("Ground",r,m,a,d,o,l):n<=r+this.getSizeFromCollider2D(t).x/2+2.5&&h>=a&&h<=d?this.updateBoundaries("RightWall",r,m,a,d,o,l):n>=m-this.getSizeFromCollider2D(t).x/2-2.5&&h>=a&&h<=d&&this.updateBoundaries("LeftWall",r,m,a,d,o,l))}else 1==i.tag&&(this.life-=1,this.hitTimer=0)},s.updateBoundaries=function(t,i,e,o,l,s,h){switch(t){case"Ground":this.tempGround==l?this.limitGroundX1<=e&&s<=this.limitGroundX1?this.limitGroundX1=i:this.limitGroundX2>=i&&s>=this.limitGroundX2?this.limitGroundX2=e:s>=this.limitGroundX1&&s<=this.limitGroundX2&&(Math.abs(s-this.limitGroundX1)<Math.abs(s-this.limitGroundX2)?this.limitGroundX1=i:this.limitGroundX2=e):(this.tempGround=l,this.limitGroundX1=i,this.limitGroundX2=e);break;case"Roof":this.tempRoof==o?this.limitRoofX1<=e&&s<=this.limitRoofX1?this.limitRoofX1=i:this.limitRoofX2>=i&&s>=this.limitRoofX2?this.limitRoofX2=e:s>=this.limitRoofX1&&s<=this.limitRoofX2&&(Math.abs(s-this.limitRoofX1)<Math.abs(s-this.limitRoofX2)?this.limitRoofX1=i:this.limitRoofX2=e):(this.tempRoof=o,this.limitRoofX1=i,this.limitRoofX2=e);break;case"RightWall":this.tempRightWall==i?this.limitRightY1<=l&&h<=this.limitRightY1?this.limitRightY1=o:this.limitRightY2>=o&&h>=this.limitRightY2?this.limitRightY2=l:h>=this.limitRightY1&&h<=this.limitRightY2&&(Math.abs(h-this.limitRightY1)<Math.abs(s-this.limitRightY2)?this.limitRightY1=o:this.limitRightY2=l):(this.tempRightWall=i,this.limitRightY1=o,this.limitRightY2=l);break;case"LeftWall":this.tempLeftWall==e?this.limitLeftY1<=l&&h<=this.limitLeftY1?this.limitLeftY1=o:this.limitLeftY2>=o&&h<=this.limitLeftY2?this.limitLeftY2=l:h>=this.limitLeftY1&&h<=this.limitLeftY2&&(Math.abs(h-this.limitLeftY1)<Math.abs(s-this.limitLeftY2)?this.limitLeftY1=o:this.limitLeftY2=l):(this.tempLeftWall=e,this.limitLeftY1=o,this.limitLeftY2=l)}},s.getSizeFromCollider2D=function(t){return new u(t.node.getComponent(p).contentSize.x*t.node.scale.x,t.node.getComponent(p).contentSize.y*t.node.scale.y)},s.makeBullet=function(){var t,i,e;this.poolBullet.length>0?t=this.poolBullet.shift():(t=f(this.bullet)).setParent(this.node),this.poolBullet.length>0?i=this.poolBullet.shift():(i=f(this.bullet)).setParent(this.node),this.poolBullet.length>0?e=this.poolBullet.shift():(e=f(this.bullet)).setParent(this.node);t.setPosition(0,10,0),i.setPosition(0,10,0),e.setPosition(0,10,0),t.getComponent(C).setActive(),i.getComponent(C).setActive(),e.getComponent(C).setActive(),t.angle=45,i.angle=90,e.angle=135,t.setScale(new g(7.696985091,7.696985091,0)),i.setScale(new g(7.696985091,7.696985091,0)),e.setScale(new g(7.696985091,7.696985091,0)),this.listActiveBullet.push(t),this.listActiveBullet.push(i),this.listActiveBullet.push(e)},s.nodeActive=function(){this.loading=!1},s.update=function(t){if(!this.loading){this.moveTimer<3.5?(this.moveTimer+=t,this.moveRight?(this.node.getComponent(R).spriteFrame=this.right,this.node.translate(new g(.5,0,0))):(this.node.getComponent(R).spriteFrame=this.left,this.node.translate(new g(-.5,0,0)))):this.moveCooldown<1.5?(this.moveCooldown+=t,this.haveShoot||(this.haveShoot=!0,this.makeBullet())):(this.moveCooldown=0,this.moveTimer=0,this.moveRight=d(0,2)%2==0,this.haveShoot=!1),this.tempGround!=this.realGround&&(this.node.position.x<this.limitGroundX1||this.node.position.x>this.limitGroundX2)&&(this.tempGround=this.realGround),this.tempRoof!=this.realRoof&&(this.node.position.x<this.limitRoofX1||this.node.position.x>this.limitRoofX2)&&(this.tempRoof=this.realRoof),this.tempRightWall!=this.realRightWall&&(this.node.position.y<this.limitRightY1||this.node.position.y>this.limitRightY2)&&(this.tempRightWall=this.realRightWall),this.tempLeftWall!=this.realLeftWall&&(this.node.position.y<this.limitLeftY1||this.node.position.y>this.limitLeftY2)&&(this.tempLeftWall=this.realLeftWall),this.node.position.y>this.tempRoof?this.node.setPosition(new g(this.node.getPosition().x,this.tempRoof,0)):this.node.position.y<this.tempGround&&this.node.setPosition(new g(this.node.getPosition().x,this.tempGround,0)),this.node.position.x>this.tempRightWall?this.node.setPosition(new g(this.tempRightWall,this.node.getPosition().y,0)):this.node.position.x<this.tempLeftWall&&this.node.setPosition(new g(this.tempLeftWall,this.node.getPosition().y,0)),this.hitTimer<.1?(this.hitTimer+=t,this.node.getComponent(R).color=c(255,0,0,255)):this.node.getComponent(R).color=c(255,255,255,255);for(var i=0;i<this.listActiveBullet.length;i++)"Off"==this.listActiveBullet[i].getComponent(C).checkActive()?(this.poolBullet.push(this.listActiveBullet[i]),this.listActiveBullet.splice(i,1)):this.listActiveBullet[i].setRotationFromEuler(0,0,this.listActiveBullet[i].getComponent(C).getRotation());0==this.life&&(this.node.active=!1)}},i}(v)).prototype,"bullet",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(b.prototype,"right",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(b.prototype,"left",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=b))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/Background.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,r,o,s,c,h,a,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.Node,h=t.input,a=t.Input,l=t.Vec3,u=t.Component}],execute:function(){var p,d,f,y,g;o._RF.push({},"a3243zBly9DLKePDgIfWHzv","Background",void 0);var v=s.ccclass,k=s.property;t("Background",(p=v("Background"),d=k({type:c}),p((g=n((y=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,i(n,"children",g,r(n)),n.startPosition=[],n}e(n,t);var o=n.prototype;return o.start=function(){h.on(a.EventType.KEY_DOWN,this.keyDown,this),h.on(a.EventType.KEY_PRESSING,this.keyPressing,this),h.on(a.EventType.KEY_UP,this.keyUp,this);for(var t=0;t<this.children.length;t++)this.startPosition.push(this.children[t].position)},o.keyDown=function(t){t.keyCode},o.keyPressing=function(t){t.keyCode},o.keyUp=function(t){t.keyCode},o.resetPosition=function(){for(var t=0;t<this.children.length;t++)this.children[t].setPosition(this.startPosition[t])},o.move=function(t){for(var n=.9*t/6,e=0;e<this.children.length;e++)this.children[e].translate(new l(e*n,0,0))},o.rolling=function(t){for(var n=.9*t/6,e=0;e<this.children.length;e++)this.children[e].translate(new l((this.children.length-e-1)*n,0,0)),this.children[e].position.x<=-928&&this.children[e].translate(new l(928,0,0))},o.update=function(t){},n}(u)).prototype,"children",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,c,s,h,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Collider2D,r=t.Contact2DType,c=t.RigidBody2D,s=t.Sprite,h=t.color,u=t.Vec3,l=t.Component}],execute:function(){var a;n._RF.push({},"4a2d49dJRhCCYQgrJtb4wvX","Bullet",void 0);var f=i.ccclass;i.property,t("Bullet",f("Bullet")(a=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).lifetime=.5,e.currentTime=void 0,e.hit=void 0,e}e(n,t);var i=n.prototype;return i.start=function(){this.node.getComponent(o).on(r.BEGIN_CONTACT,this.onCollide,this),this.currentTime=0,this.hit=!1},i.onCollide=function(t,e){(0==e.tag||3==e.tag)&&(this.hit=!0,this.currentTime=0)},i.setActive=function(){this.hit=!1,this.currentTime=0,this.turnOn()},i.setRotation=function(t){this.node.angle=t},i.turnOff=function(){this.getComponent(c).enabledContactListener=!1,this.getComponent(o).tag=-1,this.node.getComponent(s).color=h(255,255,255,0)},i.turnOn=function(){this.getComponent(c).enabledContactListener=!0,this.getComponent(o).tag=1,this.node.getComponent(s).color=h(255,255,255,255)},i.checkActive=function(){return 1==this.getComponent(c).enabledContactListener||this.node.getComponent(s).color==h(255,255,255,255)?"On":"Off"},i.update=function(t){"On"==this.checkActive()&&(1==this.hit&&this.turnOff(),this.currentTime>this.lifetime?this.turnOff():(this.node.translate(new u(8,0,0)),this.currentTime+=t))},n}(l))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Crosshair.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,r,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,e=t.Vec3,i=t.Component}],execute:function(){var s;o._RF.push({},"6c1ccYYnD9Kjr0ZTPf3SOb9","Crosshair",void 0);var c=r.ccclass;r.property,t("Crosshair",c("Crosshair")(s=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.start=function(){},r.nodeActive=function(){this.node.active=!0},r.moveCrosshair=function(t){this.node.setPosition(t)},r.moveWithCamera=function(t){this.node.translate(new e(t,0,0))},r.update=function(t){},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/EndScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,s,i,a,o,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,o=e.Label,c=e.Vec3,u=e.Component}],execute:function(){var l,p,g,f,h;i._RF.push({},"503afZ955RFhJggzfu+zeUS","EndScreen",void 0);var d=a.ccclass,y=a.property;e("DeathScreen",(l=d("EndScreen"),p=y({type:o}),l((h=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"message",h,s(t)),t}n(t,e);var i=t.prototype;return i.start=function(){},i.putMessage=function(e){this.message.string=e,this.message.node.setPosition(new c(0,6.5,0)),this.message.node.setScale(new c(.02,.02,0)),this.message.node.active=!0},i.update=function(e){},t}(u)).prototype,"message",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,o,r,c,s,u,h,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Collider2D,r=t.Contact2DType,c=t.RigidBody2D,s=t.Sprite,u=t.color,h=t.Vec3,l=t.Component}],execute:function(){var a;e._RF.push({},"99aba9tPP5PD7g3N7QRDpHo","EnemyBullet",void 0);var f=i.ccclass;i.property,t("EnemyBullet",f("EnemyBullet")(a=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).lifetime=.5,n.currentTime=void 0,n.hit=void 0,n}n(e,t);var i=e.prototype;return i.start=function(){this.node.getComponent(o).on(r.BEGIN_CONTACT,this.onCollide,this),this.currentTime=0,this.hit=!1},i.onCollide=function(t,n){(0==n.tag||2==n.tag)&&(this.hit=!0,this.currentTime=0)},i.setActive=function(){this.hit=!1,this.currentTime=0,this.turnOn()},i.setRotation=function(t){this.node.angle=t},i.getRotation=function(){return this.node.angle},i.turnOff=function(){this.getComponent(c).enabledContactListener=!1,this.getComponent(o).tag=-1,this.node.getComponent(s).color=u(255,0,0,0)},i.turnOn=function(){this.getComponent(c).enabledContactListener=!0,this.getComponent(o).tag=4,this.node.getComponent(s).color=u(255,0,0,255)},i.checkActive=function(){return 1==this.getComponent(c).enabledContactListener||this.node.getComponent(s).color==u(255,255,255,255)?"On":"Off"},i.update=function(t){"On"==this.checkActive()&&(1==this.hit&&this.turnOff(),this.currentTime>this.lifetime?this.turnOff():(this.node.translate(new h(56,0,0)),this.currentTime+=t))},e}(l))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Crosshair.ts","./Player.ts","./Background.ts","./Bullet.ts","./HealthBar.ts","./Portal.ts","./MonsterManager.ts","./EndScreen.ts","./SoulBar.ts"],(function(t){var e,i,s,a,o,r,n,l,h,c,p,u,d,g,y,m,v,C,b,f,S,P,M,L,B,w,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,n=t.Camera,l=t.Node,h=t.Label,c=t.Prefab,p=t.Button,u=t.input,d=t.Input,g=t.NodeEventType,y=t.Vec3,m=t.KeyCode,v=t.instantiate,C=t.Component},function(t){b=t.Crosshair},function(t){f=t.Player},function(t){S=t.Background},function(t){P=t.Bullet},function(t){M=t.HealthBar},function(t){L=t.Portal},function(t){B=t.MonsterManager},function(t){w=t.DeathScreen},function(t){x=t.SoulBar}],execute:function(){var E,k,D,z,N,R,_,A,K,W,H,G,U,Y,O,T,F,I,V,j,Q,X,q,J,Z,$,tt,et,it,st,at,ot,rt;o._RF.push({},"33b962EyMhMjoG7LDlcl5H/","GameManager",void 0);var nt=r.ccclass,lt=r.property;t("GameManager",(E=nt("GameManager"),k=lt({type:n}),D=lt({type:l}),z=lt({type:l}),N=lt({type:l}),R=lt({type:l}),_=lt({type:l}),A=lt({type:l}),K=lt({type:l}),W=lt({type:l}),H=lt({type:l}),G=lt({type:l}),U=lt({type:h}),Y=lt({type:c}),O=lt({type:p}),T=lt({type:p}),E((V=e((I=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,s(e,"camera",V,a(e)),s(e,"crosshairNode",j,a(e)),s(e,"playerNode",Q,a(e)),s(e,"backgroundNode",X,a(e)),s(e,"title",q,a(e)),s(e,"healthBarNode",J,a(e)),s(e,"portalNode",Z,a(e)),s(e,"endScreen",$,a(e)),s(e,"soulBar",tt,a(e)),s(e,"Layout",et,a(e)),s(e,"monsterGroup",it,a(e)),s(e,"credits",st,a(e)),s(e,"bullet",at,a(e)),s(e,"startButton",ot,a(e)),s(e,"resetButton",rt,a(e)),e.crosshairClass=void 0,e.playerClass=void 0,e.backgroundClass=void 0,e.healthBarClass=void 0,e.portalClass=void 0,e.endScreenClass=void 0,e.soulBarClass=void 0,e.monsterManager=[],e.poolBullet=[],e.listActiveBullet=[],e.moveLeft=!1,e.moveRight=!1,e.homeScreen=!0,e.isShooting=!1,e.playerMiddle=!1,e.isWin=!1,e.loading=!1,e.gameStarted=!0,e.cameraW=void 0,e.cameraH=void 0,e.globalMoveFactor=void 0,e.barrierRight=void 0,e.barrierLeft=void 0,e.shootingDelay=0,e.playerPosition=0,e.monsterKilled=0,e.currLevel=0,e.maxLevel=2,e.score=0,e.portalStartingPosition=[],e.playerStartPosition=[],e.cameraStartingPosition=[],e.currentCursorPosition=void 0,e}i(e,t);var o=e.prototype;return o.start=function(){u.on(d.EventType.MOUSE_MOVE,this.moveCrosshair,this),u.on(d.EventType.MOUSE_MOVE,this.changeShootingCoordinate,this),u.on(d.EventType.MOUSE_DOWN,this.shoot,this),u.on(d.EventType.MOUSE_UP,this.stopShooting,this),u.on(d.EventType.KEY_DOWN,this.keyDown,this),u.on(d.EventType.KEY_PRESSING,this.keyPressing,this),u.on(d.EventType.KEY_UP,this.keyUp,this),this.startButton.node.on(g.TOUCH_END,this.startGame,this),this.crosshairClass=this.crosshairNode.getComponent(b),this.playerClass=this.playerNode.getComponent(f),this.backgroundClass=this.backgroundNode.getComponent(S),this.healthBarClass=this.healthBarNode.getComponent(M),this.portalClass=this.portalNode.getComponent(L);for(var t=0;t<this.monsterGroup.length;t++)this.monsterManager.push(this.monsterGroup[t].getComponent(B));this.endScreenClass=this.endScreen.getComponent(w),this.soulBarClass=this.soulBar.getComponent(x),this.cameraH=490,this.cameraW=this.cameraH/720*1280,this.barrierLeft=-170,this.barrierRight=170;for(var e=0;e<this.Layout.length;e++)this.Layout[e].active=!1;this.backgroundNode.active=!0,this.credits.node.active=!1,this.portalStartingPosition.push(new y(535.065,-205.63,0)),this.portalStartingPosition.push(new y(-545.545,-205.63,0)),this.playerStartPosition.push(new y(-550,-215,0)),this.playerStartPosition.push(new y(535,110,0)),this.cameraStartingPosition.push(new y(-170,-15,0)),this.cameraStartingPosition.push(new y(170,-15,0))},o.startGame=function(){this.crosshairClass.nodeActive(),this.backgroundClass.resetPosition(),this.homeScreen=!1,this.startButton.node.active=!1,this.title.active=!1,this.loading=!0,this.gameStarted=!1},o.startLevel=function(){this.camera.node.setPosition(this.cameraStartingPosition[this.currLevel-1]),this.playerClass.nodeActive(this.playerStartPosition[this.currLevel-1]),this.portalClass.nodeActive(this.portalStartingPosition[this.currLevel-1]);for(var t=0;t<this.Layout.length;t++)t==this.currLevel-1?(this.Layout[t].active=!0,this.monsterManager[t].nodeActive()):this.Layout[t].active=!1},o.keyDown=function(t){if(0!=this.playerClass.getLife()&&!this.portalClass.isEntered())switch(t.keyCode){case m.KEY_D:this.playerClass.getDashing()||(this.moveRight=!0,this.moveLeft=!1);break;case m.KEY_A:this.playerClass.getDashing()||(this.moveLeft=!0,this.moveRight=!1);break;case m.KEY_E:this.playerClass.setDashing(!0);break;case m.KEY_Q:this.soulBarClass.checkSoul()>=4&&6!=this.playerClass.getLife()&&this.playerClass.heal()}},o.keyPressing=function(t){this.homeScreen||t.keyCode},o.keyUp=function(t){if(0!=this.playerClass.getLife()&&!this.portalClass.isEntered())switch(t.keyCode){case m.KEY_D:this.playerClass.getDashing()||(this.moveRight=!1);break;case m.KEY_A:this.playerClass.getDashing()||(this.moveLeft=!1)}},o.makeBullet=function(t){var e,i=this.camera.node.position.x-this.cameraW/2,s=this.camera.node.position.y-this.cameraH/2,a=i+t.x/1280*this.cameraW,o=s+t.y/720*this.cameraH,r=this.playerClass.getPosition().x,n=this.playerClass.getPosition().y,l=a-r,h=o-n,c=Math.atan(h/l);c=180*c/Math.PI,a<r&&(c+=180),this.poolBullet.length>0?e=this.poolBullet.shift():(e=v(this.bullet)).setParent(this.node),"Right"==this.playerClass.getDirection()?e.setPosition(r+10,n,0):e.setPosition(r-10,n,0),e.getComponent(P).setActive(),this.listActiveBullet.push(e),e.getComponent(P).setRotation(c)},o.shoot=function(t){this.playerClass.getDashing()||0==this.playerClass.getLife()||this.portalClass.isEntered()||0==t.getButton()&&(this.currentCursorPosition=t.getUILocation(),this.isShooting=!0)},o.stopShooting=function(t){this.isShooting=!1},o.moveCrosshair=function(t){var e=this.camera.node.position.x-this.cameraW/2,i=this.camera.node.position.y-this.cameraH/2,s=t.getUILocationX()/1280*this.cameraW,a=t.getUILocationY()/720*this.cameraH,o=new y(e+s,i+a,0);this.crosshairClass.moveCrosshair(o)},o.changeShootingCoordinate=function(t){this.currentCursorPosition=t.getUILocation()},o.setHealthBarPosition=function(){var t=this.camera.node.position.x-this.cameraW/2,e=this.camera.node.position.y+this.cameraH/2;e-=30,this.healthBarClass.setBarPostion(new y(t,e,0)),this.soulBarClass.setBarPostion(new y(t+40,e-35,0))},o.checkWin=function(){0!=this.monsterManager[this.currLevel-1].getMonsterAlive()||this.isWin||(this.isWin=!0,this.portalClass.openPortal())},o.closeEndSreen=function(){if(this.endScreen.setPosition(this.playerClass.getPosition()),this.endScreen.scale.x>0){var t=this.endScreen.getScale();this.endScreen.setScale(new y(t.x-.5,t.y-.5,t.z-.5))}else this.loading=!1,this.playerClass.setStopMove(!1),this.monsterManager[this.currLevel-1].startGame()},o.playEndScreen=function(){if(this.endScreen.setPosition(this.playerClass.getPosition()),0==this.playerClass.getLife()){if(Math.abs(this.camera.node.position.x-this.playerClass.getPosition().x)>6&&(this.camera.node.position.x>this.playerClass.getPosition().x?this.camera.node.translate(new y(-2.5,0,0)):this.camera.node.translate(new y(2.5,0,0))),Math.abs(Math.abs(this.playerClass.getPosition().y-this.camera.node.position.y)-200)>=6&&(this.camera.node.position.y-this.playerClass.getPosition().y-200>0?this.camera.node.translate(new y(0,-2.5,0)):this.camera.node.translate(new y(0,2.5,0))),this.endScreen.scale.x<=50){var t=this.endScreen.getScale();this.endScreen.setScale(new y(t.x+.5,t.y+.5,t.z+.5))}Math.abs(this.camera.node.position.x-this.playerClass.getPosition().x)<=6&&Math.abs(Math.abs(this.playerClass.getPosition().y-this.camera.node.position.y)-200)<6&&this.endScreen.scale.x>50&&(this.resetButton.node.setPosition(new y(this.camera.node.getPosition().x,this.camera.node.getPosition().y+10,this.camera.node.getPosition().z)),this.resetButton.node.active=!0,this.credits.node.setPosition(new y(this.camera.node.getPosition().x-250,this.camera.node.getPosition().y,this.camera.node.getPosition().z)),this.credits.node.active=!0,this.endScreenClass.putMessage("You Died! \n Monster Killed =\t "+(this.score+this.monsterKilled)+"\n Level Completed =\t"+(this.currLevel-1)))}else if(this.currLevel==this.maxLevel){if(this.playerClass.setStopMove(!0),Math.abs(this.camera.node.position.x-this.playerClass.getPosition().x)>6&&(this.camera.node.position.x>this.playerClass.getPosition().x?this.camera.node.translate(new y(-2.5,0,0)):this.camera.node.translate(new y(2.5,0,0))),Math.abs(Math.abs(this.playerClass.getPosition().y-this.camera.node.position.y)-200)>=6&&(this.camera.node.position.y-this.playerClass.getPosition().y-200>0?this.camera.node.translate(new y(0,-2.5,0)):this.camera.node.translate(new y(0,2.5,0))),this.endScreen.scale.x<=50){var e=this.endScreen.getScale();this.endScreen.setScale(new y(e.x+.5,e.y+.5,e.z+.5))}Math.abs(this.camera.node.position.x-this.playerClass.getPosition().x)<=6&&Math.abs(Math.abs(this.playerClass.getPosition().y-this.camera.node.position.y)-200)<6&&this.endScreen.scale.x>50&&(this.credits.node.setPosition(new y(this.camera.node.getPosition().x-250,this.camera.node.getPosition().y,this.camera.node.getPosition().z)),this.credits.node.active=!0,this.endScreenClass.putMessage("You Win! \n Monster Killed =\t "+(this.score+this.monsterKilled)+"\n Level Completed =\t"+this.currLevel))}else if(this.playerClass.setStopMove(!0),this.endScreen.scale.x<=50){var i=this.endScreen.getScale();this.endScreen.setScale(new y(i.x+.5,i.y+.5,i.z+.5))}else this.currLevel+=1,this.isWin=!1,this.score+=this.monsterKilled,this.startLevel(),this.gameStarted=!0,this.portalClass.closePortal()},o.update=function(t){if(this.setHealthBarPosition(),this.gameStarted)if(this.loading)this.closeEndSreen();else{this.playerClass.getDashing()?"Right"==this.playerClass.getDirection()?this.globalMoveFactor=8:this.globalMoveFactor=-8:(this.moveRight&&(this.globalMoveFactor=5),this.moveLeft&&(this.globalMoveFactor=-5),this.moveLeft||this.moveRight||(this.globalMoveFactor=0)),this.playerClass.move(this.globalMoveFactor),this.isShooting&&this.shootingDelay>.25?(this.shootingDelay=0,this.makeBullet(this.currentCursorPosition)):this.shootingDelay+=t,this.playerClass.setMoving(this.moveLeft||this.moveRight),this.healthBarClass.setHealth(this.playerClass.getLife()),this.soulBarClass.setSoul(this.playerClass.getSoul());for(var e=0;e<this.listActiveBullet.length;e++)"Off"==this.listActiveBullet[e].getComponent(P).checkActive()&&(this.poolBullet.push(this.listActiveBullet[e]),this.listActiveBullet.splice(e,1));if(this.homeScreen)this.backgroundClass.rolling(-2.5);else{this.checkWin();var i=this.playerClass.getPosition().x;if(this.playerPosition!=i&&this.playerMiddle&&0!=this.playerClass.getLife()&&!this.portalClass.isEntered()){var s=i-this.playerPosition;this.playerPosition=this.playerClass.getPosition().x,this.camera.node.position.x>this.barrierLeft&&this.moveLeft||this.camera.node.position.x<this.barrierRight&&this.moveRight?(this.camera.node.translate(new y(s,0,0)),this.backgroundClass.move(s),this.crosshairClass.moveWithCamera(s)):(this.camera.node.position.x<=this.barrierLeft||this.camera.node.position.x>=this.barrierRight)&&(this.playerMiddle=!1,this.camera.node.position.x<=this.barrierLeft?this.camera.node.setPosition(new y(this.barrierLeft,this.camera.node.position.y,0)):this.camera.node.position.x>=this.barrierRight&&this.camera.node.setPosition(new y(this.barrierRight,this.camera.node.position.y,0)))}else this.playerPosition=this.playerClass.getPosition().x;Math.abs(i-this.camera.node.getPosition().x)<12&&(this.playerMiddle=!0),this.monsterKilled=this.monsterManager[this.currLevel-1].getMonsterCount()-this.monsterManager[this.currLevel-1].getMonsterAlive(),0==this.playerClass.getLife()&&this.playEndScreen(),this.portalClass.isEntered()&&(this.loading=!0,this.gameStarted=!1)}}else this.playEndScreen()},e}(C)).prototype,"camera",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(I.prototype,"crosshairNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(I.prototype,"playerNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(I.prototype,"backgroundNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(I.prototype,"title",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(I.prototype,"healthBarNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(I.prototype,"portalNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(I.prototype,"endScreen",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(I.prototype,"soulBar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(I.prototype,"Layout",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e(I.prototype,"monsterGroup",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=e(I.prototype,"credits",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(I.prototype,"bullet",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(I.prototype,"startButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(I.prototype,"resetButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=I))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ghost.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,o,s,l,h,n,r,a,d,m,p,u,f,g,c,R;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){l=i.cclegacy,h=i._decorator,n=i.Prefab,r=i.SpriteFrame,a=i.Node,d=i.Collider2D,m=i.Contact2DType,p=i.Vec2,u=i.UITransform,f=i.Sprite,g=i.Vec3,c=i.color,R=i.Component}],execute:function(){var y,C,v,G,Y,D,X,L,b,W,z;l._RF.push({},"e5c08Iktl1JP57hwKHjlqYV","Ghost",void 0);var x=h.ccclass,S=h.property;i("Ghost",(y=x("Ghost"),C=S({type:n}),v=S({type:r}),G=S({type:r}),Y=S({type:a}),y((L=t((X=function(i){function t(){for(var t,e=arguments.length,l=new Array(e),h=0;h<e;h++)l[h]=arguments[h];return t=i.call.apply(i,[this].concat(l))||this,o(t,"bullet",L,s(t)),o(t,"right",b,s(t)),o(t,"left",W,s(t)),o(t,"playerNode",z,s(t)),t.realGround=void 0,t.realRoof=void 0,t.realLeftWall=void 0,t.realRightWall=void 0,t.limitRightY1=0,t.limitRightY2=0,t.limitGroundX1=0,t.limitGroundX2=0,t.limitRoofX1=0,t.limitRoofX2=0,t.limitLeftY1=0,t.limitLeftY2=0,t.tempGround=void 0,t.tempRoof=void 0,t.tempLeftWall=void 0,t.tempRightWall=void 0,t.life=void 0,t.moveTimer=void 0,t.moveCooldown=void 0,t.spinCycle=void 0,t.spinDistance=void 0,t.spinCounter=void 0,t.hitTimer=void 0,t.loading=void 0,t}e(t,i);var l=t.prototype;return l.start=function(){this.node.getComponent(d).on(m.BEGIN_CONTACT,this.onCollide,this),this.life=5,this.moveTimer=0,this.moveCooldown=0,this.spinCycle=0,this.spinCounter=0,this.spinDistance=.15,this.hitTimer=.1,this.realGround=-215,this.realRoof=200,this.realLeftWall=-625,this.realRightWall=625,this.loading=!0},l.onCollide=function(i,t,e){if(0==t.tag){var o=t.node.position.x,s=t.node.position.y,l=t.node.name,h=i.node.position.y,n=i.node.position.x,r=o-this.getSizeFromCollider2D(t).x/2-this.getSizeFromCollider2D(i).x/2,a=o+this.getSizeFromCollider2D(t).x/2+this.getSizeFromCollider2D(i).x/2,d=s-this.getSizeFromCollider2D(t).y/2-this.getSizeFromCollider2D(i).y/2,m=s+this.getSizeFromCollider2D(t).y/2+this.getSizeFromCollider2D(i).y/2;"Wall"==l.substring(0,l.indexOf(" "))?n<=r+this.getSizeFromCollider2D(i).x/2&&h>=d&&h<=m?this.updateBoundaries("RightWall",r,a,d,m,o,s):n>=a-this.getSizeFromCollider2D(i).x/2&&h>=d&&h<=m?this.updateBoundaries("LeftWall",r,a,d,m,o,s):(h>=m-this.getSizeFromCollider2D(i).y/2&&n>=r&&n<=a||h<=d+this.getSizeFromCollider2D(i).y/2&&n>=r&&n<=a)&&this.updateBoundaries("Ground",r,a,d,m,o,s):"Platform"==l.substring(0,l.indexOf(" "))?h>=m-this.getSizeFromCollider2D(i).y/2-2.5&&n>=r&&n<=a?this.updateBoundaries("Ground",r,a,d,m,o,s):h<=d+this.getSizeFromCollider2D(i).y/2+2.5&&n>=r&&n<=a?this.updateBoundaries("Roof",r,a,d,m,o,s):n<=r+this.getSizeFromCollider2D(i).x/2+2.5&&h>=d&&h<=m?this.updateBoundaries("RightWall",r,a,d,m,o,s):n>=a-this.getSizeFromCollider2D(i).x/2-2.5&&h>=d&&h<=m&&this.updateBoundaries("LeftWall",r,a,d,m,o,s):"Roof"==l.substring(0,l.indexOf(" "))&&(h<=d+this.getSizeFromCollider2D(i).y/2+2.5&&n>=r&&n<=a?this.updateBoundaries("Roof",r,a,d,m,o,s):h>=m-this.getSizeFromCollider2D(i).y/2-2.5&&n>=r&&n<=a?this.updateBoundaries("Ground",r,a,d,m,o,s):n<=r+this.getSizeFromCollider2D(i).x/2+2.5&&h>=d&&h<=m?this.updateBoundaries("RightWall",r,a,d,m,o,s):n>=a-this.getSizeFromCollider2D(i).x/2-2.5&&h>=d&&h<=m&&this.updateBoundaries("LeftWall",r,a,d,m,o,s))}else 1==t.tag&&(this.life-=1,this.hitTimer=0)},l.updateBoundaries=function(i,t,e,o,s,l,h){switch(i){case"Ground":this.tempGround==s?this.limitGroundX1<=e&&l<=this.limitGroundX1?this.limitGroundX1=t:this.limitGroundX2>=t&&l>=this.limitGroundX2?this.limitGroundX2=e:l>=this.limitGroundX1&&l<=this.limitGroundX2&&(Math.abs(l-this.limitGroundX1)<Math.abs(l-this.limitGroundX2)?this.limitGroundX1=t:this.limitGroundX2=e):(this.tempGround=s,this.limitGroundX1=t,this.limitGroundX2=e);break;case"Roof":this.tempRoof==o?this.limitRoofX1<=e&&l<=this.limitRoofX1?this.limitRoofX1=t:this.limitRoofX2>=t&&l>=this.limitRoofX2?this.limitRoofX2=e:l>=this.limitRoofX1&&l<=this.limitRoofX2&&(Math.abs(l-this.limitRoofX1)<Math.abs(l-this.limitRoofX2)?this.limitRoofX1=t:this.limitRoofX2=e):(this.tempRoof=o,this.limitRoofX1=t,this.limitRoofX2=e);break;case"RightWall":this.tempRightWall==t?this.limitRightY1<=s&&h<=this.limitRightY1?this.limitRightY1=o:this.limitRightY2>=o&&h>=this.limitRightY2?this.limitRightY2=s:h>=this.limitRightY1&&h<=this.limitRightY2&&(Math.abs(h-this.limitRightY1)<Math.abs(l-this.limitRightY2)?this.limitRightY1=o:this.limitRightY2=s):(this.tempRightWall=t,this.limitRightY1=o,this.limitRightY2=s);break;case"LeftWall":this.tempLeftWall==e?this.limitLeftY1<=s&&h<=this.limitLeftY1?this.limitLeftY1=o:this.limitLeftY2>=o&&h<=this.limitLeftY2?this.limitLeftY2=s:h>=this.limitLeftY1&&h<=this.limitLeftY2&&(Math.abs(h-this.limitLeftY1)<Math.abs(l-this.limitLeftY2)?this.limitLeftY1=o:this.limitLeftY2=s):(this.tempLeftWall=e,this.limitLeftY1=o,this.limitLeftY2=s)}},l.getSizeFromCollider2D=function(i){return new p(i.node.getComponent(u).contentSize.x*i.node.scale.x,i.node.getComponent(u).contentSize.y*i.node.scale.y)},l.nodeActive=function(){this.loading=!1},l.update=function(i){if(!this.loading){if(this.moveTimer<2.5){this.moveTimer+=i;var t=this.node.position.x,e=this.node.position.y,o=this.playerNode.getPosition().x,s=t-o,l=e-this.playerNode.getPosition().y,h=Math.atan(l/s);t>o&&(h+=Math.PI);var n=.75*Math.cos(h),r=.75*Math.sin(h);this.node.getComponent(f).spriteFrame=n<0?this.left:this.right,this.node.translate(new g(n,r,0))}else if(this.moveCooldown<2.5){switch(this.spinCycle){case 0:this.node.translate(new g(this.spinDistance,this.spinDistance,0));break;case 1:this.node.translate(new g(this.spinDistance,-this.spinDistance,0));break;case 2:this.node.translate(new g(-this.spinDistance,-this.spinDistance,0));break;case 3:this.node.translate(new g(-this.spinDistance,this.spinDistance,0))}this.spinCounter+=1,20==this.spinCounter&&(this.spinCounter=0,this.spinCycle=(this.spinCycle+1)%4),this.moveCooldown+=i}else this.moveCooldown=0,this.moveTimer=0;this.tempGround!=this.realGround&&(this.node.position.x<this.limitGroundX1||this.node.position.x>this.limitGroundX2)&&(this.tempGround=this.realGround),this.tempRoof!=this.realRoof&&(this.node.position.x<this.limitRoofX1||this.node.position.x>this.limitRoofX2)&&(this.tempRoof=this.realRoof),this.tempRightWall!=this.realRightWall&&(this.node.position.y<this.limitRightY1||this.node.position.y>this.limitRightY2)&&(this.tempRightWall=this.realRightWall),this.tempLeftWall!=this.realLeftWall&&(this.node.position.y<this.limitLeftY1||this.node.position.y>this.limitLeftY2)&&(this.tempLeftWall=this.realLeftWall),this.node.position.y>this.tempRoof?this.node.setPosition(new g(this.node.getPosition().x,this.tempRoof,0)):this.node.position.y<this.tempGround&&this.node.setPosition(new g(this.node.getPosition().x,this.tempGround,0)),this.node.position.x>this.tempRightWall?this.node.setPosition(new g(this.tempRightWall,this.node.getPosition().y,0)):this.node.position.x<this.tempLeftWall&&this.node.setPosition(new g(this.tempLeftWall,this.node.getPosition().y,0)),this.hitTimer<.1?(this.hitTimer+=i,this.node.getComponent(f).color=c(255,0,0,255)):this.node.getComponent(f).color=c(255,255,255,255),0==this.life&&(this.node.active=!1)}},t}(R)).prototype,"bullet",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(X.prototype,"right",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(X.prototype,"left",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(X.prototype,"playerNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=X))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/HealthBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,a,l,n,o,s,h,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,n=t._decorator,o=t.SpriteFrame,s=t.Prefab,h=t.instantiate,p=t.Sprite,u=t.Component}],execute:function(){var c,f,m,H,y,d,g,b,v,C,F;l._RF.push({},"20f10sWCJVLdIp9WimsmZZT","HealthBar",void 0);var P=n.ccclass,z=n.property;t("HealthBar",(c=P("HealthBar"),f=z({type:o}),m=z({type:o}),H=z({type:o}),y=z({type:s}),c((b=e((g=function(t){function e(){for(var e,r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return e=t.call.apply(t,[this].concat(l))||this,i(e,"fullHeart",b,a(e)),i(e,"halfHeart",v,a(e)),i(e,"emptyHeart",C,a(e)),i(e,"img",F,a(e)),e.health=6,e.currHealth=6,e}r(e,t);var l=e.prototype;return l.start=function(){for(var t=0;t<3;t++){var e=h(this.img);e.getComponent(p).spriteFrame=this.fullHeart,e.scale.set(.1,.1,0),e.setPosition(32*t-48,0,0),this.node.addChild(e)}},l.setBarPostion=function(t){this.node.setPosition(t)},l.setHealth=function(t){this.health=t},l.checkHealth=function(){return this.health},l.update=function(t){if(this.health!=this.currHealth){this.node.removeAllChildren();for(var e=0;e<3;e++){var r=e+1,i=h(this.img);2*r-this.health==1?i.getComponent(p).spriteFrame=this.halfHeart:2*r<=this.health?i.getComponent(p).spriteFrame=this.fullHeart:i.getComponent(p).spriteFrame=this.emptyHeart,i.scale.set(.1,.1,0),i.setPosition(32*e-48,0,0),this.node.addChild(i)}this.currHealth=this.health}},e}(u)).prototype,"fullHeart",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(g.prototype,"halfHeart",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(g.prototype,"emptyHeart",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(g.prototype,"img",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/Knight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyBullet.ts"],(function(i){var t,e,o,s,l,h,n,r,a,m,d,u,p,f,g,R,c,v,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){l=i.cclegacy,h=i._decorator,n=i.Prefab,r=i.SpriteFrame,a=i.Node,m=i.Collider2D,d=i.Contact2DType,u=i.Vec2,p=i.UITransform,f=i.instantiate,g=i.Sprite,R=i.Vec3,c=i.color,v=i.Component},function(i){y=i.EnemyBullet}],execute:function(){var C,Y,L,X,G,b,W,D,B,x,z;l._RF.push({},"5b336ugWpdLx4OvFtEpScmD","Knight",void 0);var F=h.ccclass,S=h.property;i("Knight",(C=F("Knight"),Y=S({type:n}),L=S({type:r}),X=S({type:r}),G=S({type:a}),C((D=t((W=function(i){function t(){for(var t,e=arguments.length,l=new Array(e),h=0;h<e;h++)l[h]=arguments[h];return t=i.call.apply(i,[this].concat(l))||this,o(t,"bullet",D,s(t)),o(t,"right",B,s(t)),o(t,"left",x,s(t)),o(t,"playerNode",z,s(t)),t.realGround=void 0,t.realRoof=void 0,t.realLeftWall=void 0,t.realRightWall=void 0,t.limitRightY1=0,t.limitRightY2=0,t.limitGroundX1=0,t.limitGroundX2=0,t.limitRoofX1=0,t.limitRoofX2=0,t.limitLeftY1=0,t.limitLeftY2=0,t.tempGround=void 0,t.tempRoof=void 0,t.tempLeftWall=void 0,t.tempRightWall=void 0,t.life=void 0,t.moveTimer=void 0,t.moveCooldown=void 0,t.hitTimer=void 0,t.vY=void 0,t.gravity=500,t.shootingDelay=.3,t.waitTime=0,t.loading=void 0,t.poolBullet=[],t.listActiveBullet=[],t}e(t,i);var l=t.prototype;return l.start=function(){this.node.getComponent(m).on(d.BEGIN_CONTACT,this.onCollide,this),this.life=10,this.moveTimer=0,this.moveCooldown=0,this.hitTimer=.1,this.realGround=-210,this.realRoof=200,this.realLeftWall=-625,this.realRightWall=625,this.loading=!0},l.onCollide=function(i,t,e){if(0==t.tag){var o=t.node.position.x,s=t.node.position.y,l=t.node.name,h=i.node.position.y,n=i.node.position.x,r=o-this.getSizeFromCollider2D(t).x/2-this.getSizeFromCollider2D(i).x/2,a=o+this.getSizeFromCollider2D(t).x/2+this.getSizeFromCollider2D(i).x/2,m=s-this.getSizeFromCollider2D(t).y/2-this.getSizeFromCollider2D(i).y/2,d=s+this.getSizeFromCollider2D(t).y/2+this.getSizeFromCollider2D(i).y/2;"Wall"==l.substring(0,l.indexOf(" "))?n<=r+this.getSizeFromCollider2D(i).x/2&&h>=m&&h<=d?this.updateBoundaries("RightWall",r,a,m,d,o,s):n>=a-this.getSizeFromCollider2D(i).x/2&&h>=m&&h<=d?this.updateBoundaries("LeftWall",r,a,m,d,o,s):(h>=d-this.getSizeFromCollider2D(i).y/2&&n>=r&&n<=a||h<=m+this.getSizeFromCollider2D(i).y/2&&n>=r&&n<=a)&&this.updateBoundaries("Ground",r,a,m,d,o,s):"Platform"==l.substring(0,l.indexOf(" "))?h>=d-this.getSizeFromCollider2D(i).y/2-2.5&&n>=r&&n<=a?this.updateBoundaries("Ground",r,a,m,d,o,s):h<=m+this.getSizeFromCollider2D(i).y/2+2.5&&n>=r&&n<=a?this.updateBoundaries("Roof",r,a,m,d,o,s):n<=r+this.getSizeFromCollider2D(i).x/2+2.5&&h>=m&&h<=d?this.updateBoundaries("RightWall",r,a,m,d,o,s):n>=a-this.getSizeFromCollider2D(i).x/2-2.5&&h>=m&&h<=d&&this.updateBoundaries("LeftWall",r,a,m,d,o,s):"Roof"==l.substring(0,l.indexOf(" "))&&(h<=m+this.getSizeFromCollider2D(i).y/2+2.5&&n>=r&&n<=a?this.updateBoundaries("Roof",r,a,m,d,o,s):h>=d-this.getSizeFromCollider2D(i).y/2-2.5&&n>=r&&n<=a?this.updateBoundaries("Ground",r,a,m,d,o,s):n<=r+this.getSizeFromCollider2D(i).x/2+2.5&&h>=m&&h<=d?this.updateBoundaries("RightWall",r,a,m,d,o,s):n>=a-this.getSizeFromCollider2D(i).x/2-2.5&&h>=m&&h<=d&&this.updateBoundaries("LeftWall",r,a,m,d,o,s))}else 1==t.tag&&(this.life-=1,this.hitTimer=0)},l.updateBoundaries=function(i,t,e,o,s,l,h){switch(i){case"Ground":this.tempGround==s?this.limitGroundX1<=e&&l<=this.limitGroundX1?this.limitGroundX1=t:this.limitGroundX2>=t&&l>=this.limitGroundX2?this.limitGroundX2=e:l>=this.limitGroundX1&&l<=this.limitGroundX2&&(Math.abs(l-this.limitGroundX1)<Math.abs(l-this.limitGroundX2)?this.limitGroundX1=t:this.limitGroundX2=e):(this.tempGround=s,this.limitGroundX1=t,this.limitGroundX2=e);break;case"Roof":this.tempRoof==o?this.limitRoofX1<=e&&l<=this.limitRoofX1?this.limitRoofX1=t:this.limitRoofX2>=t&&l>=this.limitRoofX2?this.limitRoofX2=e:l>=this.limitRoofX1&&l<=this.limitRoofX2&&(Math.abs(l-this.limitRoofX1)<Math.abs(l-this.limitRoofX2)?this.limitRoofX1=t:this.limitRoofX2=e):(this.tempRoof=o,this.limitRoofX1=t,this.limitRoofX2=e);break;case"RightWall":this.tempRightWall==t?this.limitRightY1<=s&&h<=this.limitRightY1?this.limitRightY1=o:this.limitRightY2>=o&&h>=this.limitRightY2?this.limitRightY2=s:h>=this.limitRightY1&&h<=this.limitRightY2&&(Math.abs(h-this.limitRightY1)<Math.abs(l-this.limitRightY2)?this.limitRightY1=o:this.limitRightY2=s):(this.tempRightWall=t,this.limitRightY1=o,this.limitRightY2=s);break;case"LeftWall":this.tempLeftWall==e?this.limitLeftY1<=s&&h<=this.limitLeftY1?this.limitLeftY1=o:this.limitLeftY2>=o&&h<=this.limitLeftY2?this.limitLeftY2=s:h>=this.limitLeftY1&&h<=this.limitLeftY2&&(Math.abs(h-this.limitLeftY1)<Math.abs(l-this.limitLeftY2)?this.limitLeftY1=o:this.limitLeftY2=s):(this.tempLeftWall=e,this.limitLeftY1=o,this.limitLeftY2=s)}},l.getSizeFromCollider2D=function(i){return new u(i.node.getComponent(p).contentSize.x*i.node.scale.x,i.node.getComponent(p).contentSize.y*i.node.scale.y)},l.makeBullet=function(){var i;this.poolBullet.length>0?i=this.poolBullet.shift():(i=f(this.bullet)).setParent(this.node);var t=0;this.node.getComponent(g).spriteFrame==this.right?i.setPosition(new R(60,-50,0)):(i.setPosition(new R(-60,-50,0)),t=180),i.getComponent(y).setActive(),i.angle=t,i.setScale(new R(7.696985091,7.696985091,0)),this.listActiveBullet.push(i)},l.nodeActive=function(){this.loading=!1},l.update=function(i){if(!this.loading){if(this.moveTimer<2.5){var t=this.node.position.x;this.playerNode.position.x>t?(this.node.getComponent(g).spriteFrame=this.right,this.node.translate(new R(1,0,0))):(this.node.getComponent(g).spriteFrame=this.left,this.node.translate(new R(-1,0,0))),this.moveTimer+=i}else this.moveCooldown<1.5?(this.shootingDelay>=.2?(this.shootingDelay=0,this.makeBullet()):this.shootingDelay+=i,this.moveCooldown+=i):this.waitTime<.5?this.waitTime+=i:(this.waitTime=0,this.moveCooldown=0,this.moveTimer=0);this.vY>0||this.node.position.y>this.tempGround?(this.vY-=this.gravity*i,this.node.translate(new R(0,this.vY*i,0))):this.vY=-50,this.tempGround!=this.realGround&&(this.node.position.x<this.limitGroundX1||this.node.position.x>this.limitGroundX2)&&(this.tempGround=this.realGround),this.tempRoof!=this.realRoof&&(this.node.position.x<this.limitRoofX1||this.node.position.x>this.limitRoofX2)&&(this.tempRoof=this.realRoof),this.tempRightWall!=this.realRightWall&&(this.node.position.y<this.limitRightY1||this.node.position.y>this.limitRightY2)&&(this.tempRightWall=this.realRightWall),this.tempLeftWall!=this.realLeftWall&&(this.node.position.y<this.limitLeftY1||this.node.position.y>this.limitLeftY2)&&(this.tempLeftWall=this.realLeftWall),this.node.position.y>this.tempRoof?this.node.setPosition(new R(this.node.getPosition().x,this.tempRoof,0)):this.node.position.y<this.tempGround&&this.node.setPosition(new R(this.node.getPosition().x,this.tempGround,0)),this.node.position.x>this.tempRightWall?this.node.setPosition(new R(this.tempRightWall,this.node.getPosition().y,0)):this.node.position.x<this.tempLeftWall&&this.node.setPosition(new R(this.tempLeftWall,this.node.getPosition().y,0)),this.hitTimer<.1?(this.hitTimer+=i,this.node.getComponent(g).color=c(255,0,0,255)):this.node.getComponent(g).color=c(255,255,255,255),0==this.life&&(this.node.active=!1);for(var e=0;e<this.listActiveBullet.length;e++)"Off"==this.listActiveBullet[e].getComponent(y).checkActive()?(this.poolBullet.push(this.listActiveBullet[e]),this.listActiveBullet.splice(e,1)):this.listActiveBullet[e].setRotationFromEuler(0,0,this.listActiveBullet[e].getComponent(y).getRotation())}},t}(v)).prototype,"bullet",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(W.prototype,"right",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(W.prototype,"left",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(W.prototype,"playerNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=W))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Amphibian.ts","./Background.ts","./Bullet.ts","./Crosshair.ts","./EndScreen.ts","./EnemyBullet.ts","./GameManager.ts","./Ghost.ts","./HealthBar.ts","./Knight.ts","./MonsterManager.ts","./Player.ts","./Portal.ts","./ResetButton.ts","./Soul.ts","./SoulBar.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MonsterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Soul.ts","./Amphibian.ts","./Knight.ts","./Ghost.ts"],(function(t){var o,e,n,i,r,s,l,u,c,a,h,p,d;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,u=t.instantiate,c=t.Component},function(t){a=t.Soul},function(t){h=t.Amphibian},function(t){p=t.Knight},function(t){d=t.Ghost}],execute:function(){var v,f,g,m,C;r._RF.push({},"6121fRi6+JPSK1Ph20C+Di4","MonsterManager",void 0);var S=s.ccclass,A=s.property;t("MonsterManager",(v=S("MonsterManager"),f=A({type:l}),v((C=o((m=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,n(o,"soul",C,i(o)),o.monsterCount=void 0,o.poolSoul=[],o.listActiveSoul=[],o.droppedSoul=[],o}e(o,t);var r=o.prototype;return r.start=function(){this.monsterCount=this.node.children.length;for(var t=0;t<this.monsterCount;t++)this.droppedSoul.push(!1);this.node.active=!1},r.nodeActive=function(){this.node.active=!0},r.startGame=function(){for(var t=0;t<this.monsterCount;t++){var o=this.node.children[t];null!=o.getComponent(h)?o.getComponent(h).nodeActive():null!=o.getComponent(p)?o.getComponent(p).nodeActive():null!=o.getComponent(d)&&o.getComponent(d).nodeActive()}},r.getMonsterAlive=function(){for(var t=0,o=0;o<this.monsterCount;o++)1==this.node.children[o].active&&(t+=1);return t},r.getMonsterCount=function(){return this.monsterCount},r.update=function(t){for(var o=0;o<this.monsterCount;o++)if(0==this.node.children[o].active&&!this.droppedSoul[o]){this.droppedSoul[o]=!0;var e=void 0;this.poolSoul.length>0?e=this.poolSoul.shift():(e=u(this.soul)).setParent(this.node.parent),e.setPosition(this.node.children[o].getPosition()),e.getComponent(a).turnOn(),this.listActiveSoul.push(e)}for(var n=0;n<this.listActiveSoul.length;n++)"Off"==this.listActiveSoul[n].getComponent(a).checkActive()&&(this.poolSoul.push(this.listActiveSoul[n]),this.listActiveSoul.splice(n,1))},o}(c)).prototype,"soul",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,o,s,h,n,l,a,r,m,p,d,g,u,f,R,c,y,L;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){h=i.cclegacy,n=i._decorator,l=i.SpriteFrame,a=i.input,r=i.Input,m=i.Animation,p=i.Collider2D,d=i.Contact2DType,g=i.RigidBody2D,u=i.UITransform,f=i.KeyCode,R=i.Vec3,c=i.Sprite,y=i.color,L=i.Component}],execute:function(){var v,Y,D,C,S,W,A,G,X,b,F;h._RF.push({},"cb7e4GZneVHsqfAexWJp393","Player",void 0);var P=n.ccclass,x=n.property;i("Player",(v=P("Player"),Y=x({type:l}),D=x({type:l}),C=x({type:l}),S=x({type:l}),v((G=t((A=function(i){function t(){for(var t,e=arguments.length,h=new Array(e),n=0;n<e;n++)h[n]=arguments[n];return t=i.call.apply(i,[this].concat(h))||this,o(t,"jumpLeftSprite",G,s(t)),o(t,"dropLeftSprite",X,s(t)),o(t,"jumpRightSprite",b,s(t)),o(t,"dropRightSprite",F,s(t)),t.animations=void 0,t.jumpMove=!1,t.jumpPress=!1,t.dashing=!1,t.isMoving=void 0,t.isHitFromRight=void 0,t.homeScreen=!1,t.stopMoving=!1,t.vY=0,t.gravity=500,t.timeJump=0,t.timeDash=0,t.dashTimer=0,t.hitTimer=.1,t.life=6,t.soul=0,t.healTimer=0,t.realGround=void 0,t.realRoof=void 0,t.realLeftWall=void 0,t.realRightWall=void 0,t.limitRightY1=0,t.limitRightY2=0,t.limitGroundX1=0,t.limitGroundX2=0,t.limitRoofX1=0,t.limitRoofX2=0,t.limitLeftY1=0,t.limitLeftY2=0,t.tempGround=void 0,t.tempRoof=void 0,t.tempLeftWall=void 0,t.tempRightWall=void 0,t}e(t,i);var h=t.prototype;return h.start=function(){a.on(r.EventType.KEY_DOWN,this.keyDown,this),a.on(r.EventType.KEY_PRESSING,this.keyPressing,this),a.on(r.EventType.KEY_UP,this.keyUp,this),this.animations=this.node.getComponent(m),this.node.getComponent(p).on(d.BEGIN_CONTACT,this.onCollide,this),this.animations.name="RightIdle",this.node.getComponent(g).enabledContactListener=!0,this.realGround=-215,this.realRoof=200,this.realLeftWall=-421.5555556,this.realRightWall=421.5555556,this.tempRoof=this.realRoof,this.tempGround=this.realGround,this.tempLeftWall=this.realLeftWall,this.tempRightWall=this.realRightWall},h.onCollide=function(i,t,e){if(0!=this.life)if(0==t.tag){var o=t.node.position.x,s=t.node.position.y,h=t.node.name,n=i.node.position.y,l=i.node.position.x,a=o-this.getSizeFromCollider2D(t).x/2-this.getSizeFromCollider2D(i).x/2,r=o+this.getSizeFromCollider2D(t).x/2+this.getSizeFromCollider2D(i).x/2,m=s-this.getSizeFromCollider2D(t).y/2-this.getSizeFromCollider2D(i).y/2,p=s+this.getSizeFromCollider2D(t).y/2+this.getSizeFromCollider2D(i).y/2;"Wall"==h.substring(0,h.indexOf(" "))?l<=a+this.getSizeFromCollider2D(i).x/2&&n>=m&&n<=p?this.updateBoundaries("RightWall",a,r,m,p,o,s):l>=r-this.getSizeFromCollider2D(i).x/2&&n>=m&&n<=p?this.updateBoundaries("LeftWall",a,r,m,p,o,s):(n>=p-this.getSizeFromCollider2D(i).y/2&&l>=a&&l<=r||n<=m+this.getSizeFromCollider2D(i).y/2&&l>=a&&l<=r)&&this.updateBoundaries("Ground",a,r,m,p,o,s):"Platform"==h.substring(0,h.indexOf(" "))?n>=p-this.getSizeFromCollider2D(i).y/2-2.5&&l>=a&&l<=r?this.updateBoundaries("Ground",a,r,m,p,o,s):n<=m+this.getSizeFromCollider2D(i).y/2+2.5&&l>=a&&l<=r?this.updateBoundaries("Roof",a,r,m,p,o,s):l<=a+this.getSizeFromCollider2D(i).x/2+2.5&&n>=m&&n<=p?this.updateBoundaries("RightWall",a,r,m,p,o,s):l>=r-this.getSizeFromCollider2D(i).x/2-2.5&&n>=m&&n<=p&&this.updateBoundaries("LeftWall",a,r,m,p,o,s):"Roof"==h.substring(0,h.indexOf(" "))&&(n<=m+this.getSizeFromCollider2D(i).y/2+2.5&&l>=a&&l<=r?this.updateBoundaries("Roof",a,r,m,p,o,s):n>=p-this.getSizeFromCollider2D(i).y/2-2.5&&l>=a&&l<=r?this.updateBoundaries("Ground",a,r,m,p,o,s):l<=a+this.getSizeFromCollider2D(i).x/2+2.5&&n>=m&&n<=p?this.updateBoundaries("RightWall",a,r,m,p,o,s):l>=r-this.getSizeFromCollider2D(i).x/2-2.5&&n>=m&&n<=p&&this.updateBoundaries("LeftWall",a,r,m,p,o,s))}else if(4==t.tag||3==t.tag){if(!this.dashing&&!this.stopMoving){this.homeScreen&&1!=this.life?this.life-=1:this.homeScreen||(this.life-=1),this.hitTimer=0;var d=t.node.position.x,g=i.node.position.x;180==t.node.angle?this.isHitFromRight=!0:0==t.node.angle?this.isHitFromRight=!1:this.isHitFromRight=!(d<g)}}else 5==t.tag&&8!=this.soul&&(console.log(this.soul),this.soul+=1)},h.updateBoundaries=function(i,t,e,o,s,h,n){switch(i){case"Ground":this.tempGround==s?this.limitGroundX1<=e&&h<=this.limitGroundX1?this.limitGroundX1=t:this.limitGroundX2>=t&&h>=this.limitGroundX2?this.limitGroundX2=e:h>=this.limitGroundX1&&h<=this.limitGroundX2&&(Math.abs(h-this.limitGroundX1)<Math.abs(h-this.limitGroundX2)?this.limitGroundX1=t:this.limitGroundX2=e):(this.tempGround=s,this.limitGroundX1=t,this.limitGroundX2=e);break;case"Roof":this.tempRoof==o?this.limitRoofX1<=e&&h<=this.limitRoofX1?this.limitRoofX1=t:this.limitRoofX2>=t&&h>=this.limitRoofX2?this.limitRoofX2=e:h>=this.limitRoofX1&&h<=this.limitRoofX2&&(Math.abs(h-this.limitRoofX1)<Math.abs(h-this.limitRoofX2)?this.limitRoofX1=t:this.limitRoofX2=e):(this.tempRoof=o,this.limitRoofX1=t,this.limitRoofX2=e);break;case"RightWall":this.tempRightWall==t?this.limitRightY1<=s&&n<=this.limitRightY1?this.limitRightY1=o:this.limitRightY2>=o&&n>=this.limitRightY2?this.limitRightY2=s:n>=this.limitRightY1&&n<=this.limitRightY2&&(Math.abs(n-this.limitRightY1)<Math.abs(h-this.limitRightY2)?this.limitRightY1=o:this.limitRightY2=s):(this.tempRightWall=t,this.limitRightY1=o,this.limitRightY2=s);break;case"LeftWall":this.tempLeftWall==e?this.limitLeftY1<=s&&n<=this.limitLeftY1?this.limitLeftY1=o:this.limitLeftY2>=o&&n<=this.limitLeftY2?this.limitLeftY2=s:n>=this.limitLeftY1&&n<=this.limitLeftY2&&(Math.abs(n-this.limitLeftY1)<Math.abs(h-this.limitLeftY2)?this.limitLeftY1=o:this.limitLeftY2=s):(this.tempLeftWall=e,this.limitLeftY1=o,this.limitLeftY2=s)}},h.setStopMove=function(i){this.stopMoving=i,1==i?this.stopAnimation():"Right"==this.getDirection()?this.playAnimation("RightIdle"):this.playAnimation("LeftIdle")},h.getSizeFromCollider2D=function(i){return i.node.getComponent(u).contentSize},h.keyDown=function(i){if(0!=this.life&&!this.stopMoving)switch(i.keyCode){case f.KEY_W:case f.SPACE:this.jumpPress=!0;break;case f.KEY_D:0==this.dashing&&(this.stopAnimation(),this.playAnimation("RightRun"));break;case f.KEY_A:0==this.dashing&&(this.stopAnimation(),this.playAnimation("LeftRun"));break;case f.KEY_Q:this.healTimer>=.1&&this.soul>=4&&6!=this.life&&(this.healTimer=0,this.soul-=4,this.life+=1)}},h.nodeActive=function(i){this.node.active=!0,this.realLeftWall=-625,this.realRightWall=625,this.realGround=-215,this.realRoof=200,this.node.setPosition(i),this.homeScreen=!1},h.keyPressing=function(i){if(0!=this.life&&!this.stopMoving)switch(i.keyCode){case f.KEY_D:0==this.dashing&&"RightRun"!=this.getAnimationName()&&(this.stopAnimation(),this.playAnimation("RightRun"));break;case f.KEY_A:0==this.dashing&&"LeftRun"!=this.getAnimationName()&&(this.stopAnimation(),this.playAnimation("LeftRun"))}},h.keyUp=function(i){if(0!=this.life&&!this.stopMoving)switch(i.keyCode){case f.KEY_W:case f.SPACE:this.jumpPress=!1,this.timeJump=1;break;case f.KEY_D:"Right"==this.getDirection()&&this.playAnimation("RightIdle");break;case f.KEY_A:"Left"==this.getDirection()&&this.playAnimation("LeftIdle")}},h.playAnimation=function(i){this.animations.name=i,this.animations.play(i)},h.getAnimationName=function(){return this.animations.name},h.stopAnimation=function(){this.animations.stop()},h.move=function(i){0==this.life||this.stopMoving||(this.dashing,(i<0&&this.node.position.x>=this.tempLeftWall||i>0&&this.node.position.x<=this.tempRightWall)&&this.node.translate(new R(i,0,0)))},h.getDashing=function(){return this.dashing},h.getPosition=function(){return this.node.position},h.getDirection=function(){return"RightRun"==this.animations.name||"RightIdle"==this.animations.name||"RightPulse"==this.animations.name?"Right":"Left"},h.dashMove=function(i){this.timeDash+=i,this.timeDash>.25&&(this.dashing=!1,this.stopAnimation(),this.isMoving?"Right"==this.getDirection()?this.playAnimation("RightRun"):this.playAnimation("LeftRun"):"Right"==this.getDirection()?this.playAnimation("RightIdle"):this.playAnimation("LeftIdle"))},h.setDashing=function(i){(0!=this.life||this.stopMoving)&&this.dashTimer>1&&(this.dashing=i,this.dashTimer=0,"Right"==this.getDirection()?this.playAnimation("RightPulse"):this.playAnimation("LeftPulse"))},h.setMoving=function(i){this.isMoving=i},h.checkHit=function(i){this.hitTimer<.1?(this.hitTimer+=i,this.node.getComponent(c).color=y(255,0,0,255),this.isHitFromRight?this.node.translate(new R(-2,0,0)):this.node.translate(new R(2,0,0))):this.node.getComponent(c).color=y(255,255,255,255)},h.getLife=function(){return this.life},h.getSoul=function(){return this.soul},h.heal=function(){this.hitTimer<.1?this.node.getComponent(c).color=y(0,0,255,255):this.node.getComponent(c).color=y(255,255,255,255)},h.update=function(i){0!=this.life||this.stopMoving?(0==this.dashing?(this.timeDash=0,this.dashTimer+=i,this.jumpPress&&this.timeJump<.5&&(this.jumpMove=!0,this.vY=200,this.timeJump+=i),this.vY>0||this.node.position.y>this.tempGround?(this.stopAnimation(),"Right"==this.getDirection()?this.node.getComponent(c).spriteFrame=this.jumpRightSprite:this.node.getComponent(c).spriteFrame=this.jumpLeftSprite,this.vY-=this.gravity*i,this.node.translate(new R(0,this.vY*i,0)),this.vY<0&&("Right"==this.getDirection()?this.node.getComponent(c).spriteFrame=this.dropRightSprite:this.node.getComponent(c).spriteFrame=this.dropLeftSprite)):(this.vY=-50,this.timeJump=0,this.jumpMove&&this.animations.play(this.animations.name),this.jumpMove=!1)):this.dashMove(i),this.checkHit(i),this.healTimer<=.1&&(this.healTimer+=i),this.tempGround!=this.realGround&&(this.node.position.x<this.limitGroundX1||this.node.position.x>this.limitGroundX2)&&(this.tempGround=this.realGround),this.tempRoof!=this.realRoof&&(this.node.position.x<this.limitRoofX1||this.node.position.x>this.limitRoofX2)&&(this.tempRoof=this.realRoof),this.tempRightWall!=this.realRightWall&&(this.node.position.y<this.limitRightY1||this.node.position.y>this.limitRightY2)&&(this.tempRightWall=this.realRightWall),this.tempLeftWall!=this.realLeftWall&&(this.node.position.y<this.limitLeftY1||this.node.position.y>this.limitLeftY2)&&(this.tempLeftWall=this.realLeftWall),this.node.position.y>this.tempRoof?(this.node.setPosition(new R(this.node.getPosition().x,this.tempRoof,0)),this.vY=-10):this.node.position.y<this.tempGround&&this.node.setPosition(new R(this.node.getPosition().x,this.tempGround,0)),this.node.position.x>this.tempRightWall?this.node.setPosition(new R(this.tempRightWall,this.node.getPosition().y,0)):this.node.position.x<this.tempLeftWall&&this.node.setPosition(new R(this.tempLeftWall,this.node.getPosition().y,0))):"DeathAnimation"!=this.getAnimationName()&&(this.node.getComponent(c).color=y(255,255,255,255),this.playAnimation("DeathAnimation"))},t}(L)).prototype,"jumpLeftSprite",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(A.prototype,"dropLeftSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(A.prototype,"jumpRightSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(A.prototype,"dropRightSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=A))||W));h._RF.pop()}}}));

System.register("chunks:///_virtual/Portal.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i,r,s,a,l,p,c,u,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.SpriteFrame,l=t.Collider2D,p=t.Contact2DType,c=t.Animation,u=t.Sprite,h=t.Component}],execute:function(){var d,P,f,g,y;r._RF.push({},"91e929ryMZEGZUPyi+vh0Td","Portal",void 0);var m=s.ccclass,v=s.property;t("Portal",(d=m("Portal"),P=v({type:a}),d((y=o((g=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,n(o,"closedPortal",y,i(o)),o.open=void 0,o.getInPortal=void 0,o}e(o,t);var r=o.prototype;return r.start=function(){this.node.getComponent(l).on(p.BEGIN_CONTACT,this.onCollide,this),this.open=!1,this.getInPortal=!1},r.onCollide=function(t,o,e){2==o.tag&&this.open&&(this.getInPortal=!0)},r.nodeActive=function(t){this.open=!1,this.getInPortal=!1,this.node.setPosition(t),this.closePortal()},r.movePosition=function(t){this.node.setPosition(t)},r.playAnimation=function(){this.node.getComponent(c).play("OpenPortal")},r.closePortal=function(){this.open=!1,this.getInPortal=!1,this.node.getComponent(u).spriteFrame=this.closedPortal},r.openPortal=function(){this.playAnimation()},r.isOpen=function(){return this.open},r.isEntered=function(){return this.getInPortal},r.update=function(t){"sprite_40"==this.node.getComponent(u).spriteFrame.name&&(this.open=!0)},o}(h)).prototype,"closedPortal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/ResetButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.NodeEventType,s=t.director,c=t.Component}],execute:function(){var u;n._RF.push({},"d1388tyvuRCRJr3N4ptUSyn","ResetButton",void 0);var i=o.ccclass;o.property,t("ResetButton",i("ResetButton")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){this.node.on(r.TOUCH_END,this.resetScene,this),this.node.active=!1},o.resetScene=function(){s.loadScene("scene")},o.update=function(t){},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Soul.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,s,o,c,r,a,p,h;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,s=t.Collider2D,o=t.Contact2DType,c=t.RigidBody2D,r=t.Sprite,a=t.color,p=t.Vec3,h=t.Component}],execute:function(){var l;e._RF.push({},"47c51YzBPhOvKxM8VYcbnGd","Soul",void 0);var u=i.ccclass;i.property,t("Soul",u("Soul")(l=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).spinCycle=0,n.spinDistance=void 0,n.spinCounter=void 0,n}n(e,t);var i=e.prototype;return i.start=function(){this.spinCounter=0,this.spinDistance=.15,this.node.getComponent(s).on(o.BEGIN_CONTACT,this.onCollide,this)},i.onCollide=function(t,n,e){2==n.tag&&this.turnOff()},i.turnOff=function(){this.getComponent(c).enabledContactListener=!1,this.getComponent(s).tag=-1,this.node.getComponent(r).color=a(255,255,255,0)},i.turnOn=function(){this.getComponent(c).enabledContactListener=!0,this.getComponent(s).tag=5,this.node.getComponent(r).color=a(255,255,255,255)},i.checkActive=function(){return 1==this.getComponent(c).enabledContactListener||this.node.getComponent(r).color==a(255,255,255,255)?"On":"Off"},i.update=function(t){switch(this.spinCycle){case 0:this.node.translate(new p(this.spinDistance,this.spinDistance,0));break;case 1:this.node.translate(new p(this.spinDistance,-this.spinDistance,0));break;case 2:this.node.translate(new p(-this.spinDistance,-this.spinDistance,0));break;case 3:this.node.translate(new p(-this.spinDistance,this.spinDistance,0))}this.spinCounter+=1,10==this.spinCounter&&(this.spinCounter=0,this.spinCycle=(this.spinCycle+1)%4)},e}(h))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/SoulBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,r,n,i,u,s,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,s=t.SpriteFrame,a=t.Sprite,c=t.Component}],execute:function(){var l,p,f,h,y;i._RF.push({},"7815cc0Lb9IuJaeYaoyaJze","SoulBar",void 0);var B=u.ccclass,S=u.property;t("SoulBar",(l=B("SoulBar"),p=S({type:s}),l((y=e((h=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,r(e,"soulBar",y,n(e)),e.soul=0,e}o(e,t);var i=e.prototype;return i.start=function(){},i.setSoul=function(t){this.soul=t},i.setBarPostion=function(t){this.node.setPosition(t)},i.checkSoul=function(){return this.soul},i.update=function(t){this.node.getComponent(a).spriteFrame=this.soulBar[this.soul]},e}(c)).prototype,"soulBar",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});